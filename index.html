<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="" lang="">
  <head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <meta name="generator" content="pandoc">
    <meta name="viewport" content="width=device-width,
      initial-scale=1.0, user-scalable=yes">
    <title>How to Host a Static Website with Nginx</title>
    <link rel="stylesheet" href="styles.css">
  </head>
  <body>
    <header id="title-block-header">
      <h1 class="title">How to Host a Static Website with Nginx</h1>
      <ul>
        <li>Devyn Freet</li>
        <li>English 202C</li>
        <li>April 6, 2023</li>
        <li>Dr. Latterell</li>
      </ul>
    </header>
    <figure>
      <img src="images/fig1_website.png" alt="website screenshot">
      <figcaption><strong>Figure 1</strong>: Screenshot of website</figcaption>
    </figure>
    <h1 id="introduction">Introduction</h1>
    <h3 class="italic">Why should I have my own website?</h3>
    <p>
      There are several reasons you may want a personal website; whether you want 
      a blog, portfolio, cv, or just a place to tell the world about yourself 
      outside of traditional social media, a personal website is a great thing to 
      have. Having a personal website does not require that you host that site 
      yourself, and in fact most people don't host their own sites - many services 
      such as WordPress, Squarespace, and Wix.com offer people a fast, easy, and 
      affordable way to build and host a website, and for most people, a service 
      like this is probably the best option.
    </p>
    <h3 class="italic">Why would I want to host the site myself?</h3>
    <p>
      Realistically, most people probably don't. This guide is specifically 
      targeted at people who wish to better understand how the web works by 
      building a small piece of it themselves, and while this route can offer 
      a site that is lighter, faster, and gives you more granular control than 
      those built with the management systems mentioned above, the extra effort 
      probably isn't worth it unless you have a strong desire to learn and tinker. 
      For those who are willing to put in the effort, however, hosting your own 
      website can be incredibly rewarding and allows you to build something truly 
      unique without the limitations of hosting platforms.
    </p>
    <h3 class="italic">What is a static website and why might I want one?</h3>
    <p>
      Simply put, a static website is a website with fixed content built using 
      HTML, CSS, and possibly JavaScript. The alternative to a static website is a 
      dynamic website, which is what you're probably used to seeing with sites like 
      Twitter, Google, and Netflix. These sites are built with web frameworks like 
      React or Angular and dynamically serve content to users, which is why the 
      content you see is different every time you visit one of these sites. It is 
      important to note that static websites can still be responsive, 
      cross-platform, and can even have dynamic elements (though that's outside the 
      scope of this guide). The reason this guide focuses on static sites, aside 
      from their relative simplicity, is because they provide a strong, stable 
      foundation on which to build, tinker, and ultimately deepen your understanding 
      of the web.
    </p>
    <h3 class="italic">What should I already know?</h3>
    <p>
      This guide assumes that you have no experience with the tools and platforms 
      used. With that in mind, you should be very comfortable using a computer, and 
      you mustn't fear the command line - it is a powerful tool that makes 
      everything in this guide possible. Because this guide focuses on hosting 
      rather than designing a website, there won't be an explanation of how to 
      build your website with HTML and CSS; that said, there will be links to 
      <a href="#resources">external resources</a> for that at the end of the guide.
    </p>
    <h3 class="italic">How long will this take?</h3>
    <p>
      Due to the nature of wireless networking, wait times between certain steps 
      can be unpredictable. You should expect to spend about two to three hours 
      getting your site set up (less if you're already familiar with the tools), 
      and many more hours tinkering and troubleshooting as you expand your site 
      into whatever you want it to be.
    </p>
    <h3>Important Technologies & Terminology</h3>
    <ul>
      <li><strong>HTTP</strong> (Hypertext Transfer Protocol) - HTTP is an internet
        protocol that delivers websites to web browsers.
      </li>
      <li><strong>SSH</strong> (Secure Shell Protocol) - SSH is a networking
        protocol that allows users to access a server remotely.
      </li>
      <li><strong>VPS</strong> (virtual private server) - A VPS is a cloud server 
        accessible remotely that can run the software required to host a website.
      </li>
      <li><strong>DigitalOcean</strong> - DigitalOcean is a cloud service 
        provider that offers virtual private servers (called droplets) for a monthly 
        fee. There are many alternatives available, including Linode and 
        OrangeWebsite.
      </li>
      <li><strong>Nginx</strong> (pronounced engine-x) - Nginx is a HTTP server, or 
        a piece of software that delivers a website to a visitor's browser.
      </li>
      <li><strong>Linux</strong> - Linux is an operating system that is used to run
        most web servers.
      </li>
      <li><strong>Bash</strong> - Bash is a command line interpreter that is used to 
        execute instructions in Linux.
      </li>
      <li><strong>HTML</strong> (HyperText Markup Language) - HTML is a markup 
        language used to create documents for the web.
      </li>
      <li><strong>CSS</strong> (Cascading Style Sheets) - CSS is a style language 
        used to layout the visual design of HTML documents.
      </li>
      <li><strong>JavaScript</strong> - JavaScript is a scripting language that runs
        in web browsers and is used to make websites more dynamic.
      </li>
      <li><strong>Domain Name</strong> - A domain name is a unique identifier for a 
        website that allows it to be easily accessed via a web browser 
        (E.g., example.com, wikipedia.org)
      </li>
      <li><strong>Subdomain</strong> - A subdomain is a string of text preceding a 
        website's main domain name. (E.g., <strong>www</strong>.example.com,
        <strong>en</strong>.wikipidea.org)
      </li>
      <li><strong>DNS</strong> (Domain Name System) - DNS is the naming system that 
        manages domain names and links them to web servers.
      </li>
      <li><strong>Symbolic Link</strong> - A symbolic link is a file that points to 
        a different file or directory on a computer, similar to shortcuts in Windows.
      </li>
      <li><strong>TLS</strong> (Transport Layer Security) - TLS is a security 
        protocol that encrypts data sent to websites to protect user privacy.
      </li>
      <li><strong>Certbot</strong> - Certbot is a command-line tool created by the 
        Electronic Frontier Foundation to simplify the process of setting up TLS 
        for a website.
      </li>
    </ul>
    <div class="warning">
      <h3>Warning!</h3>
      <p>
        This guide makes heavy use of bash, and specifically the <strong>sudo</strong> command, which 
        allows the user to run commands with elevated privileges. Always carefullly proofread 
        any command starting with <strong>sudo</strong> before executing, since the <strong>sudo</strong> command 
        allows you to do significant damage to your system if you make a mistake.
      </p>
    </div>
    <div class="caution">
      <h3>Caution</h3>
      <p>
        While this guide will follow basic security practices, there are many 
        security risks that come with hosting a website. Keep the following guidelines 
        in mind in order to minimize the potential harm of a security breach:
      </p>
      <ul>
        <li>Don't upload anything to the web server that shouldn't be publibly visible.</li>
        <li>Don't attempt to handle sensitive user data (such as login information) without 
          significant further research.
        </li>
      </ul>
    </div>
    <h3 id="overview">Overview</h3>
    <p>
      These instructions will involve the following actions: 
      <ol>
        <li><a href="#step1">Set up ssh on your device.</a></li>
        <li><a href="#step2">Sign up for DigitalOcean and create a droplet.</a></li>
        <li><a href="#step3">Install web hosting software on your server.</a></li>
        <li><a href="#step4">Set up a domain name for your website.</a></li>
        <li><a href="#step5">Configure Nginx for domain name.</a></li>
        <li><a href="#step6">Set up TLS.</a></li>
        <li><a href="#step7">Upload custom website files to server.</a></li>
      </ol>
    <h3 id="what-youll-need">What You'll Need</h3>
    <p>
      The only things you'll need to get started are a computer connected to the 
      internet and about $15. This guide will primarily target Windows users, but 
      everything here is possible on nearly any modern operating system. Over the 
      course of this guide, you'll have to pay about $5 per month for a server, and 
      about $10 per year for a domain name.
    </p>
    <h1>Steps</h1>
    <ol id="steps">
      <h2 id="step1"><li>SSH Setup</li></h2>
      <ol>
        <h3><li>Open a command line.</li></h3>
        <p>
          Open the command line for your operating system. To do this on Windows, 
          right click the start menu and click the <em>Windows PowerShell</em> 
          option (<em>Figure 2</em>).
        </p>
        <p class="note">
          <strong>Note</strong>: You should <strong>not</strong> 
          choose the option that says <em>Admin</em>, since admin privileges are 
          unnecessary here.
        </p>
        <p class="feedback">
          You should see the window in <em>Figure 3</em> once the command line opens.
        </p>
        <div class="row">
          <div class="smallcolumn">
            <figure>
              <img src="images/fig2_startOptions.png">
              <figcaption><strong>Figure 2</strong>: Windows start options menu</figcaption>
            </figure>
          </div>
          <div class="bigcolumn">
            <figure>
              <img src="images/fig3_powershell.png">
              <figcaption><strong>Figure 3</strong>: Windows PowerShell</figcaption>
            </figure>
          </div>
        </div>
        <h3><li>Generate SSH key for authentication.</li></h3>
        <ol>
          <li>Type or copy/paste the text of <em>Command 1</em> in your command prompt</li>
          <figure class="command">
            <code>ssh-keygen -t rsa</code>
            <figcaption><strong>Command 1</strong>: Generate ssh key</figcaption>
          </figure>
          <li>Press <strong>Enter</strong> to run the command.</li>
          <li>Press <strong>Enter</strong> at each prompt, leaving the passphrase empty.</li>
          <p class="note">
            <strong>Note</strong>: You may set a passhprase if you'd like, but 
            setting a passphrase is unnecessary and not common practice.
          </p>
          <p class="feedback">
            See <em>Listing 1</em> for an example of how the output should look.
          </p>
          <figure class="listing">
            <code>
Generating public/private rsa key pair.  
Enter file in which to save the key (C:\Users\username/.ssh/id_rsa):  
Enter passphrase (empty for no passphrase):  
Enter same passphrase again:  
Your identification has been saved in C:\Users\username/.ssh/id_rsa.  
Your public key has been saved in C:\Users\username/.ssh/id_rsa.pub.  
The key fingerprint is:  
SHA256:GlK2Lb83XgTkk0PY40aFNtHY59gUFCQ6RfDDAB/OxKk username@hostname  
The key's randomart image is:  
+---[RSA 3072]----+  
|        .=O@=o=o |  
|        .O@Oo.o  |  
|      o  =%o+*   |  
|     o oE o=..o  |  
|    . + S.  .    |  
|     . =   .     |  
|      . .   .    |  
|         .o.     |  
|        .o..     |  
+----[SHA256]-----+
            </code>
            <figcaption><strong>Listing 1</strong>: Output for ssh-keygen</figcaption>
          </figure>
        </ol>
      </ol>
      <h2 id="step2"><li>Server Creation</li></h2>
      <ol>
        <h3><li>Sign up for DigitalOcean.</li></h3>
        <ol>
          <li>Go to <a href="https://www.digitalocean.com" target="_blank" rel="noopener noreferrer">
            digitalocean.com</a>.</li>
          <li>Click <em>Sign Up</em>.</li>
          <li>Follow the site's instructions to create your account.</li>
          <p class="note">
            <strong>Note</strong>: You will be required to enter payment information 
            and choose a project name.
          </p>
          <p class="feedback">
            Once your account has been created, you should see the dashboard in 
            <em>Figure 4</em>.
          </p>
          <figure>
            <img src="images/fig4_digitaloceanDash.png">
            <figcaption><strong>Figure 4</strong>: DigitalOcean dashboard</figcaption>
          </figure>
        </ol>
        <h3><li>Set up a droplet.</li></h3>
        <div class="row">
          <div class="column">
            <ol>
              <li>Click the green <em>Create</em> button on the top right of the 
              dashboard (see <em>Figure 5</em>).</li>
              <li>Click <em>Droplets</em> in the drop-down menu that appears.</li>
              <li>Choose options for your droplet based on the following guidelines:</li>
              <ul>
                <li><strong>Region</strong>: Choose the region closest to you for ideal performance</li>
                <li><strong>Datacenter</strong>: Leave this as the default choice</li>
                <li><strong>Image</strong>: Leave this set to Ubuntu unless you're already familiar with Linux and want a different distribution.</li>
                <li><strong>Version</strong>: Leave this as the default choice.</li>
                <li><strong>Droplet Type</strong>: Choose the <em>Basic</em> option under <em>Shared CPU</em></li>
                <li><strong>CPU Options</strong>: Choose <em>Regular</em>, click the left arrow below, and select the $4 per month option.</li>
              </ul>
            </ol>
          </div>
          <div class="column">
            <figure>
              <img src="images/fig5_dropletCreate.png">
              <figcaption><strong>Figure 5:</strong> Create droplet button</figcaption>
            </figure>
          </div>
        </div>
        <h3><li>Add an SSH key to the droplet.</li></h3>
        <ol>
          <li>Select <em>SSH Key</em> under the <em>Choose Authentication Method</em> section.</li>
          <li>Run <em>Command 2</em> in your terminal to display the text of your SSH key.</li>
          <figure class="command">
            <code>cat ~/.ssh/id_rsa.pub</code>
            <figcaption><strong>Command 2:</strong> Display SSH key</figcaption>
          </figure>
          <p class="feedback">
            The output should be a string of text starting with <em>ssh-rsa</em> and ending with <em>username@hostname</em>.
          </p>
          <li>Copy the full output of the previous command and paste it into the <em>SSH key content</em> box in DigitalOcean (<em>Figure 6</em>).</li>
          <li>Choose a name for your key and type it in the <em>Name</em> box.</li>
          <li>Click <em>Add SSH Key</em></li>
          <li>Make sure the key you just added has a checkmark next to it under <em>Choose your SSH Keys</em>.</li>
          <figure>
            <img src="images/fig6_sshDialog.png">
            <figcaption><strong>Figure 6</strong>: SSH dialog box</figcaption>
          </figure>
        </ol>
        <h3><li>Create the droplet.</li></h3>
        <ol>
          <li>Choose a short, descriptive name for your droplet and type it in the <em>Hostname</em> box at the bottom of the page.</li>
          <li>Click the <em>Create Droplet</em> button at the bottom of the screen.</li>
          <p class="feedback">You should be returned to the dashboard, where you will see your droplet being created (<em>Figure 7</em>).</p>
          <figure>
            <img src="images/fig7_newDroplet.png">
            <figcaption><strong>Figure 7</strong>: Newly created droplet in dashboard</figcaption>
          </figure>
        </ol>
      </ol>
      <h2 id="step3"><li>Server Setup</li></h2>
      <ol>
        <h3><li>Connect to the server.</li></h3>
        <ol>
          <p class="note">
            <strong>Note</strong>: Next to the name of your droplet is an IP address (E.g., 192.168.1.1). 
            If this doesn't appear automatically, you may need to refresh the page.  For the rest of this guide, you 
            should replace the text [ip-address] with your server's IP address in any commands or text files.
          </p>
          <li>Connect to the droplet by running <em>Command 3</em>, replacing [ip-address] with your droplet's IP address.</li>
          <figure class="command">
            <code>ssh root@[ip-address]</code>
            <figcaption><strong>Command 3</strong>: Connect to server via ssh</figcaption>
          </figure>
          <p class="feedback">You should see a prompt that says <em>Are you sure you want to continue connecting(yes/no/fingerprint)?</em></p>
          <li>Type <strong>yes</strong> at the prompt and press <strong>Enter</strong>.</li>
          <p class="feedback">The output shown in <em>Listing 2</em> should appear.</p>
          <figure class="listing">
            <code>
Welcome to Ubuntu 22.10 (GNU/Linux 5.19.0-23-generic x86_64)

 * Documentation: https://help.ubuntu.com  
 * Management: https://landscape.canonical.com  
 * Support: https://ubuntu.com/advantage

  System information as of Tue Mar 28 05:09:53 UTC 2023

  System load: 0.0 Users logged in: 0  
  Usage of /: 17.1% of 9.52GB IPv4 address for eth0: [ip-address]  
  Memory usage: 38% IPv4 address for eth0: 10.10.0.6  
  Swap usage: 0% IPv4 address for eth1: 10.136.0.2  
  Processes: 90

0 updates can be applied immediately.  



The programs included with the Ubuntu system are free software;  
the exact distribution terms for each program are described in the  
individual files in /usr/share/doc/*/copyright.  
Ubuntu comes with ABSOLUTELY NO WARRANTY, to the extent permitted by  
applicable law.
            </code>
            <figcaption><strong>Listing 2</strong>: Server connection text</figcaption>
          </figure>
        </ol>
        <h3><li>Set up a user account.</li></h3>
        <ol>
          <li>Choose a username containing only letters, with no spaces or special characters.</li>
          <p class="note">
            <strong>Note</strong>: For the rest of this guide, replace [username] with the name you chose.
          </p>
          <li>Run the <em>Command 4</em> to create a user.</li>
          <figure class="command">
            <code>adduser [username]</code>
            <figcaption><strong>Command 4</strong>: Create a new user</figcaption>
          </figure>
          <li>Type a strong, memorable password when prompted.</li>
          <p class="note">
            <strong>Note</strong>: There will be no visible indication when typing your password.
          </p>
          <li>Press <strong>Enter</strong> at each prompt for personal information.</li>
          <p class="feedback">A prompt should appear that says <em>Is the information correct?</em></p>
          <li>Type <strong>y</strong> and press <strong>Enter</strong>.</li>
          <p class="feedback">If the command was successful, there will be no further output.</p>
          <li>Run <em>Command 5</em> to give the user admin privileges.</li>
          <figure class="command">
            <code>usermod -aG sudo [username]</code>
            <figcaption><strong>Command 5</strong>: Add user to group sudo</figcaption>
          </figure>
          <p class="feedback">There should be no output.</p>
          <li>Allow remote access to the user by running <em>Command 6</em>.</li>
          <figure class="command">
            <code>rsync --archive --chown=[username]:[username] ~/.ssh/home/[username]</code>
            <figcaption><strong>Command 6</strong>: Allow user to connect via ssh</figcaption>
          </figure>
          <p class="feedback">Again, you should see no output.</p>
        </ol>
        <h3><li>Reconnect to the server with your user account.</li></h3>
        <ol>
          <li>Run the command <strong>exit</strong> to disconnect from the server.</li>
          <li>Run <em>Command 7</em> to reconnect as the user account.</li>
          <figure class="command">
            <code>ssh [username]@[ip-address]</code>
            <figcaption><strong>Command 7</strong>: Connect to server as user account via ssh</figcaption>
          </figure>
          <p class="note"><strong>Note</strong>: This is the command you should use any time you need to connect in the future.</p>
        </ol>
        <h3><li>Install Nginx.</li></h3>
        <ol>
          <div class="warning">
            <h3>Warning!</h3>
            <p>
              Remember to always carefully proofread commands starting with <strong>sudo</strong> before you run them; 
              the sudo command allows you to do significant damage to your system if you aren't careful.
            </p>
          </div>
          <li>Run <em>Command 8</em> to update the server's package list.</li>
          <figure class="command">
            <code>sudo apt update</code>
            <figcaption><strong>Command 8</strong>: Update package list</figcaption>
          </figure>
          <p class="feedback">After some time, you should see output that looks like <em>Listing 3</em></p>
          <figure class="listing">
            <code>
Fetched 1672 kB in 4s (441 kB/s)
Reading package lists... Done
Building dependency tree... Done
Reading state information... Done
33 packages can be upgraded. Run 'apt list --upgradable' to see them.
            </code>
            <figcaption><strong>Listing 3</strong>: Output for apt update</figcaption>
          </figure>
          <li>Install Nginx with <em>Command 9</em>.</li>
          <figure class="command">
            <code>sudo apt install nginx</code>
            <figcaption><strong>Command 9</strong>: Install Nginx</figcaption>
          </figure>
          <p class="feedback">
            A prompt should appear that says <em>Do you want to continue? [Y/n]</em>.
          </p>
          <li>Type <strong>y</strong> and press <strong>Enter</strong>.</li>
          <p class="feedback">The server will take some time to install, and output will vary depending on your system.</p>
        </ol>
        <h3><li>Test Nginx.</li></h3>
        <p>Paste your server's IP address into the address bar of your web browser.</p>
        <p class="feedback">If your server has been set up properly, you should see the page shown in <em>Figure 8</em>.</p>
        <figure>
          <img src="images/fig8_nginxHomepage.png">
          <figcaption><strong>Figure 8</strong>: Nginx initial setup page</figcaption>
        </figure>
      </ol>
      <h2 id="step4"><li>Domain Name Setup</li></h2>
      <ol>
        <h3><li>Purchase a domain name.</li></h3>
        <ol>
          <li>Navigate to a domain name registrar - this guide will focus on <a href=https://www.namecheap.com target="_blank" rel="noopener noreferrer">namecheap.com</a></li>
          <li>Search for a domain name of your choosing in the search bar.</li>
          <p class="note">
            <strong>Note</strong>: You may need to try several names before you find one that is available.
          </p>
          <p class="note">
            <strong>Note</strong>: For the rest of this guide, [mydomain] will refer to your chosen domain name.
          </p>
          <li>Go through the site's checkout process, entering payment information and creating an account as necessary.</li>
          <p class="note">
            <strong>Note</strong>: You don't need to purchase any add-ons, but it's a good idea to keep <em>Domain Privacy</em> enabled when checking out.
          </p>
          <li>Click the <em>Manage</em> button next to your domain name to go to the control panel (<em>Figure 9</em>).</li>
          <figure>
            <img src="images/fig9_namecheapControlPanel.png">
            <figcaption><strong>Figure 9</strong>: Namecheap domain control panel.</figcaption>
          </figure>
        </ol>
        <h3><li>Connnect your domain name to the server.</li></h3>
        <ol>
          <li>Click <em>Advanced DNS</em> in the top right of the control panel.</li>
          <li>Click <em>ADD NEW RECORD</em> under <em>HOST RECORDS</em>.</li>
          <li>Under <em>Type</em> make sure <em>A Record</em> is selected.</li>
          <li>In the <em>Host</em> box enter the @ symbol to make your site accessible with no subdomain.</li>
          <li>Paste the IP address of your DigitalOcean droplet in the <em>IP Address</em> box.</li>
          <li>Click the green checkmark on the right to save the DNS record (<em>Figure 10</em>).</li>
          <li>Click <em>ADD NEW RECORD</em> again.</li>
          <li>Select <em>A Record</em>.</li>
          <li>Type <em>www</em> in the <em>Host</em> box.</li>
          <li>Paste the same address as before in the <em>IP Address</em> box.</li>
          <li>Click the green checkmark to save.</li>
          <figure>
            <img src="images/fig10_dnsRecord.png">
            <figcaption><strong>Figure 10</strong>: Namecheap DNS settings</figcaption>
          </figure>
        </ol>
      </ol>
      <h2 id="step5"><li>Nginx Configuration</li></h2>
      <ol>
        <h3><li>Create a sample website file on the server.</li></h3>
        <ol>
          <li>Run <em>Command 10</em> to create a directory for your website.</li>
          <figure class="command">
            <code>sudo mkdir -p /var/www/[mydomain]/html</code>
            <figcaption><strong>Command 10</strong>: Create website directory</figcaption>
          </figure>
          <li>Grant your user ownership of the directory with <em>Command 11</em>.</li>
          <figure class="command">
            <code>sudo chown -R $USER:$USER /var/www/[mydomain]/html</code>
            <figcaption><strong>Command 11</strong>: Take ownership of website directory</figcaption>
          </figure>
          <li>Run <em>Command 12</em> to create an empty html document using the text editor <em>nano</em>.</li>
          <figure class="command">
            <code>sudo nano /var/www/[mydomain]/html/index.html</code>
            <figcaption><strong>Command 12</strong>: Open new website file with nano</figcaption>
          </figure>
          <li>Enter the sample html from <em>Listing 4</em> into the document, or create your own.</li>
          <figure class="listing">
            <code>
&lt;html&gt;
  &lt;head&gt;
    &lt;title>My Personal Website&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;h1&gt;My website is working.&lt;/h1&gt;
  &lt;/body&gt;
&lt;/html&gt;
            </code>
            <figcaption><strong>Listing 4</strong>: Simple html file</figcaption>
          </figure>
          <li>Press <strong>Ctrl+X</strong> to exit.</li>
          <li>Press <strong>y</strong> to save the file.</li>
          <li>Press <strong>Enter</strong> to keep the default filename.</li>
        </ol>
        <h3><li>Setup the configuration file for Nginx.</li></h3>
        <ol>
        <li>Create and open a configuration file with <em>Command 13</em>.</li>
          <figure class="command">
            <code>sudo nano /etc/nginx/sites-available/[mydomain]</code>
            <figcaption><strong>Command 13</strong>: Open new configuration file with nano</figcaption>
          </figure>
          <li>Enter the text from <em>Listing 5</em> into the file, making sure to replace [mydomain] with your domain name.</li>
          <figure class="listing">
            <code>
server {
  listen 80;
  listen [::]:80;

  root /var/www/[mydomain]/html;
  index index.html index.htm;

  server_name [mydomain] www.[mydomain];

  location / {
    try_files $uri $uri/ =404;
  }
}
            </code>
            <figcaption><strong>Listing 5</strong>: Nginx configuration file</figcaption>
          </figure>
          <li>Run <em>Command 14</em> to create a symbolic link that enables your website.</li>
          <figure class="command">
            <code>sudo ln -s /etc/nginx/sites-available/[mydomain] /etc/nginx/sites-enabled/</code>
            <figcaption><strong>Command 14</strong>: Create symbolic link</figcaption>
          </figure>
          <li>Disable the Nginx default page with <em>Command 15</em>.</li>
          <figure class="command">
            <code>sudo rm /etc/nginx/sites-enabled/default</code>
            <figcaption><strong>Command 15</strong>: Delete default config file</figcaption>
          </figure>
          <li>Test your Nginx configuration for errors with <em>Command 16</em>.</li>
          <figure class="command">
            <code>sudo nginx -t</code>
            <figcaption><strong>Command 16</strong>: Test Nginx configuration</figcaption>
          </figure>
          <p class="feedback">If there are no errors, you should see the output in <em>Listing 6</em>.</p>
          <figure class="listing">
            <code>
nginx: the configuration file /etc/nginx/nginx.conf syntax is ok
nginx: configuration file /etc/nginx/nginx.conf test is successful
            </code>
            <figcaption><strong>Listing 6</strong>: Output for successful Nginx test</figcaption>
          </figure>
          <p class="note">
            <strong>Note</strong>: If you do see errors, you'll have to open the previous file again and fix whatever mistakes the command output mentions.
          </p>
          <li>Restart Nginx with <em>Command 17</em>.</li>
          <figure class="command">
            <code>sudo systemctl restart nginx</code>
            <figcaption><strong>Command 17</strong>: Restart Nginx</figcaption>
          </figure>
          <p class="feedback">
            There will be no output if the command runs successfully.
          </p>
          <li>Type your domain name in the address bar of your web browser.</li>
          <p class="feedback">You should see the page shown in <em>Figure 11</em>, with some differences if you made your own html earlier.</p>
          <figure>
            <img src="images/fig11_basicWebsite.png">
            <figcaption><strong>Figure 11</strong>: Basic custom website</figcaption>
          </figure>
        </ol>
      </ol>
      <h2 id="step6"><li>TLS Setup</li></h2>
      <ol>
        <h3><li>Install Certbot.</li></h3>
        <ol>
          <li>Run <em>Command 18</em> to ensure the package installer <em>snapd</em> is up to date.</li>
          <figure class="command">
            <code>sudo snap install core; sudo snap refresh core</code>
            <figcaption><strong>Command 18</strong>: Update snapd</figcaption>
          </figure>
          <p class="feedback">When the installation is done, you should see the output in <em>Listing 7</em>.</p>
          <figure class="listing">
            <code>
core 16-2.58.3 from Canonical✓ installed
snap "core" has no updates available
            </code>
            <figcaption><strong>Listing 7</strong>: Output for snap update</figcaption>
          </figure>
          <li>Install Certbot using snapd with <em>Command 19</em>.</li>
          <figure class="command">
            <code>sudo snap install --classic certbot</code>
            <figcaption><strong>Command 19</strong>: Install Certbot</figcaption>
          </figure>
          <p class="feedback">The output of the command should match <em>Listing 8</em>.</p>
          <figure class="listing">
            <code>
certbot 2.4.0 from Certbot Project (certbot-eff✓) installed
            </code>
            <figcaption><strong>Listing 8</strong>: Output for Certbot installation</figcaption>
          </figure>
          <li>Create a symbolic link for Certbot with <em>Command 20</em>.</li>
          <figure class="command">
            <code>sudo ln -s /snap/bin/certbot /usr/bin/certbot</code>
            <figcaption><strong>Command 20</strong>: Create symbolic link</figcaption>
          </figure>
        </ol>
        <h3><li>Run Certbot.</li></h3>
        <ol>
          <li>Use <em>Command 21</em> to run Certbot.</li>
          <figure class="command">
            <code>sudo certbot --nginx</code>
            <figcaption><strong>Command 21</strong>: Run Certbot</figcaption>
          </figure>
          <li>Enter your email address when prompted.</li>
          <li>Enter <strong>y</strong> to agree to Certbot's terms of service.</li>
          <li>Enter either <strong>y</strong> for yes or <strong>n</strong> for no when asked whether you want to share your email with the EFF.</li>
          <li>Press <strong>Enter</strong> to activate HTTPS for your domain.</li>
          <p class="feedback">Your output should look like <em>Listing 9</em></p>
          <figure class="listing">
            <code>
Congratulations! You have successfully enabled HTTPS on https://[mydomain] and https://www.[mydomain]
            </code>
            <figcaption><strong>Listing 9</strong>: Certbot success output</figcaption>
          </figure>
        </ol>
        <h3><li>Test HTTPS.</li></h3>
        <p>Navigate to https://[mydomain] in your web browser.</p>
        <p class="feedback">You should see a lock symbol next to your website name indicating that the site is secure (<em>Figure 12</em>).</p>
        <figure>
          <img src="images/fig12_https.png">
          <figcaption><strong>Figure 12</strong>: HTTPS lock symbol</figcaption>
        </figure>
      </ol>
      <h2 id="step7"><li>Website File Upload</li></h2>
      <div class="caution">
        <h3>Caution</h3>
        <p>Remember: Don't upload anything to the server that shouldn't be publicly visible. There are many avenues for security breaches, 
          and it is best to assume that anything uploaded to the web server <em>will</em> be seen by the public.
        </p>
      </div>
      <p class="note">
        <strong>Note</strong>: While designing a website is outside the scope of this guide, once you do make a website you'll have to upload the 
        files to your server. There are resources linked <a href="#resources">at the end of this guide</a> to help you design your website, and you 
        can come back to this section whenever you have files you need to upload.
      </p>
      <ol>
        <h3><li>Get the file directory.</li></h3>
        <ol>
          <li>(<em>On Windows</em>) Open Windows file explorer.</li>
          <li>Navigate to the folder with your website files.</li>
          <li>Click the title bar the select the directory wehre your files are located (<em>Figure 13</em>).</li>
          <li>Copy the directory to your clipboard.</li>
          <figure>
            <img src="images/fig13_fileDirectory.png">
            <figcaption><strong>Figure 13</strong>: File directory in Windows</figcaption>
          </figure>
        </ol>
        <h3><li>Copy the files to the server.</li></h3>
        <ol>
          <li>Run <em>Command 22</em> to copy your files to the server, replacing [directory] with the directory you copied.</li>
          <figure class="command">
            <code>scp [directory] [username]@[ip-address]:~/sitefiles</code>
            <figcaption><strong>Command 22</strong>: Copy files to server</figcaption>
          </figure>
          <li>Connect to your server using <em>Command 23</em> (the same as <em>Command 7</em>).</li>
          <figure class="command">
            <code>ssh [username]@[ip-address]</code>
            <figcaption><strong>Command 23</strong>: Connect to server as user account via ssh</figcaption>
          </figure>
          <li>Copy the files you uploaded to your website folder with <em>Command 24</em>.</li>
          <div class="caution">
            <h3>Caution</h3>
            <p>
              Any files already on the server with the same name as files you upload will be overwritten.
            </p>
          </div>
          <figure class="command">
            <code>sudo cp ~/sitefiles/* /var/www/[mydomain]/html/</code>
            <figcaption><strong>Command 24</strong>: Copy files to site directory</figcaption>
          </figure>
          <p class="note">
            <strong>Note</strong>: The first page users see when they visit your website will always be the file titled <em>index.html</em>.
          </p>
          <p class="feedback">
            You should see the changes you made when you visit your site in a web browser. If they don't appear right away, you may need to find 
            instructions on how to clear the cache of whatever browser you're using, as old versions of a site can sometimes stay cached in your 
            browser.
          </p>
        </ol>
      </ol>
    </ol>
    <h1 id="conclusion">Conclusion</h1>
    <p>
      Now that you have a basic website set up, you'll probably want to update and modify things over time; a few commands are provided below 
      to help you with simple tasks, and there is a list of external resources and tutorials that will help you customize your website and maintain 
      your server. If you've completed everything up to this point, you're finally ready to carve out your own space on the internet and share a 
      piece of yourself with the world. Best of luck!
    </p>
    <h2 id="maintenance">Maintenance Cheatsheet</h2>
    <p>Here is a list of helpful commands for server upkeep.</p>
    <ul>
      <li>
        <figure class="command">
          <code>ssh [username]@[ip-address]</code>
          <figcaption><strong>Command 25</strong>: Connect to server</figcaption>
        </figure>
      </li>
      <li>
        <figure class="command">
          <code>sudo apt update && sudo apt upgrade</code>
          <figcaption><strong>Command 26</strong>: Update server</figcaption>
        </figure>
      </li>
      <li>
        <figure class="command">
          <code>scp [filename] [username]@[ip-address]:~/.</code>
          <figcaption><strong>Command 27</strong>: Upload files to server</figcaption>
        </figure>
      </li>
    </ul>
    <h2 id="resources">External Resources</h2>
    <ul>
      <li><a href="https://www.w3schools.com" target="_blank" rel="noopener noreferrer">w3schools.com</a> - this site has extensive tutorials on how to build a website with HTML,
        CSS, and JavaScript, as well as other general web and programmign tutorials.
      </li>
      <ul>
        <li><a href="https://www.w3schools.com/html/" target="_blank" rel="noopener noreferrer">w3schools.com/html</a> - HTML tutorial.</li>
        <li><a href="https://www.w3schools.com/css/" target="_blank" rel="noopener noreferrer">w3schools.com/css</a> - CSS tutorial.</li>
        <li><a href="https://www.w3schools.com/js/" target="_blank" rel="noopener noreferrer">w3schools.com/js</a> - JavaScript tutorial.</li>
        <li><a href="https://www.w3schools.com/git/" target="_blank" rel="noopener noreferrer">w3schools.com/git</a> - A good tool for managing versions of your website is Git - This page 
          provides a good tutorial on the topic.
        </li>
      </ul>
      <li><a href="https://www.digitalocean.com/community/tutorials" target="_blank" rel="noopener noreferrer">digitalocean.com/community/tutorials</a> - DigitalOcean has a large library of 
        tutorials about managing their droplets and other features. A few tutorials relevant to this guide include:
      </li>
      <ul>
        <li>
          <a href="https://www.digitalocean.com/community/tutorial_series/getting-started-with-linux" target="_blank" rel="noopener noreferrer">Getting Started with Linux</a> - This page has 
          a collection of general Linux tutorials. Developing a strong understanding of Linux will make maintaining your server much easier.
        </li>
        <li>
          <a href="https://www.digitalocean.com/community/tutorials/how-to-keep-ubuntu-20-04-servers-updated" target="_blank" rel="noopener noreferrer">How to Keep Ubuntu 20.04 Servers Updated</a> - 
          This guide goes into depth about keeping your server updated.
        </li>
        <li>
          <a href="https://www.digitalocean.com/community/tutorials/nginx-essentials-installation-and-configuration-troubleshooting" target="_blank" rel="noopener noreferrer">Nginx Essentials: Installation and Configuration Troubleshooting</a> - 
          This guide provides a lot of information about configuring and troubleshooting Nginx.
        </li>
      </ul>
    </ul>
  </body>
</html>
